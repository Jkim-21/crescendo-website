;/*FB_PKG_DELIM*/

__d("usePolarisCommentSubmitMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"connections"},b={defaultValue:null,kind:"LocalArgument",name:"media_id"},c={defaultValue:null,kind:"LocalArgument",name:"request_data"},d=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],e={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"usePolarisCommentSubmitMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.created_at"},{kind:"RequiredField",field:f,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.pk"},{kind:"RequiredField",field:g,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.text"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,k,l],storageKey:null},action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"usePolarisCommentSubmitMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,g,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,k,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"XDTGetCommentsResponseEdge"}]}],storageKey:null}]},params:{id:"5117725391684347",metadata:{},name:"usePolarisCommentSubmitMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisMediaAudioAttribution_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaAudioAttribution_media",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisPostHeaderAudio_fragment"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisImmersiveViewerMediaHeader_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisImmersiveViewerMediaHeader_media",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostHeader_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaAudioAttribution_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFooterFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisAppAttributionContainer_fragment"},{args:null,kind:"FragmentSpread",name:"usePolarisAppAttribution_fragment"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisLexicalCommentInputState",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.unstable_useMemoCache;e={analyticsContext:"reelsTab",clearCurrentReply:function(){},isSidecar:!1,isVideo:!1,ownerId:"",postId:"",viewerId:"",viewerProfilePicture:null};var l=i.createContext(e);function a(a){var b=k(3),c=a.children;a=a.value;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.PolarisLexicalCommentInputStateProvider=a;g.usePolarisLexicalCommentInputState=b}),98);
__d("usePolarisCommentSubmit",["CometRelay","Lexical","LexicalComposerContext","PolarisAdsEngagementLogger","PolarisCommentsSortContext.react","PolarisDsaQEHelpers","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","PolarisSortCommentsUtil","igMapTypenameToRelayID","react","usePolarisCommentSubmitMutation.graphql","usePolarisLexicalCommentInputState","usePolarisShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useState,n=h!==void 0?h:h=b("usePolarisCommentSubmitMutation.graphql");function a(a){var b=m(""),e=b[0],f=b[1];b=k(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext);var g=b.commentsSortOrder;b=d("LexicalComposerContext").useLexicalComposerContext();var h=b[0];l(function(){h.registerUpdateListener(function(a){a=a.editorState;a.read(function(){f(d("Lexical").$getRoot().getTextContent())})})},[h]);var i=d("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState();b=d("CometRelay").useMutation(n);var o=b[0],p=c("usePolarisShowToast")(),q=j(function(){h.update(function(){d("Lexical").$getRoot().clear()})},[h]),r=j(function(){var b,f;a(!0);d("PolarisLogger").logAction("comment",{source:i.analyticsContext});var h={adId:(b=(b=i.adInfo)==null?void 0:b.ad_id)!=null?b:"",adTrackingToken:(b=(b=i.adInfo)==null?void 0:b.tracking_token)!=null?b:""};b=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:i.postId,sort_order:g});f=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",{media_id:i.postId,parent_comment_id:(f=i.repliedToCommentParentId)!=null?f:i.repliedToCommentId});o({onCompleted:function(b){d("PolarisLogger").logAction("commentSuccess",{});var c=1;i.isSidecar&&(c=8);i.isVideo&&(c=2);b={commentAuthorId:i.viewerId,commentId:b.xdt_web__comments__media_id__add_queryable.node.pk,containerModule:i.analyticsContext,mediaAuthorId:i.ownerId,mediaId:i.postId,mediaType:c,parentCommentAuthorId:i.repliedToCommentAuthorId,parentCommentId:i.repliedToCommentId};h.adId!=null&&h.adTrackingToken!=null?d("PolarisAdsEngagementLogger").logAdComment(b,h):d("PolarisEngagementLogger").logOrganicComment(b);q();i.clearCurrentReply();a(!1)},onError:function(){a(!1),p({actionHandler:function(){return r()},actionText:d("PolarisGenericStrings").COMMENT_CREATION_RETRY_TEXT,text:d("PolarisGenericStrings").COMMENT_CREATION_FAILURE_TEXT}),d("PolarisLogger").logAction("commentFailure",{source:i.analyticsContext})},updater:function(a){if(d("PolarisDsaQEHelpers").hasCommentsSortEnabled(!0))for(var b=d("PolarisSortCommentsUtil").commentsOptions,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=b.length)break;h=b[f++]}else{f=b.next();if(f.done)break;h=f.value}h=h;if(h!==g){h=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:i.postId,sort_order:h});(h=a.get(h))==null?void 0:h.invalidateRecord()}}if(i.repliedToCommentId==null)return;h=c("igMapTypenameToRelayID")("XDTCommentDict",null,i.repliedToCommentId);f=a.get(h);b=(e=f==null?void 0:f.getValue("child_comment_count"))!=null?e:0;f==null?void 0:f.setValue(Number(b)+1,"child_comment_count")},variables:{connections:[i.repliedToCommentId==null?b:f],media_id:i.postId,request_data:{comment_text:e,replied_to_comment_id:i.repliedToCommentId}}})},[a,i,g,o,e,q,p]);return r}g["default"]=a}),98);
__d("PolarisCommentPostButton.react",["IGDSButton.react","Lexical","LexicalComposerContext","PolarisGenericStrings","react","usePolarisCommentSubmit"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.unstable_useMemoCache;function a(a){var b=l(6);a=a.setIsLoading;var e=k(0),f=e[0],g=e[1];e=d("LexicalComposerContext").useLexicalComposerContext();var h=e[0];e=c("usePolarisCommentSubmit")(a);var m;b[0]!==h?(a=function(){h.registerUpdateListener(function(a){a=a.editorState;a.read(function(){g(d("Lexical").$getRoot().getTextContentSize())})})},m=[h],b[0]=h,b[1]=a,b[2]=m):(a=b[1],m=b[2]);j(a,m);if(f===0)return null;a=f===0;b[3]!==a||b[4]!==e?(m=i.jsx(c("IGDSButton.react"),{isDisabled:a,label:d("PolarisGenericStrings").POST_COMMENT_TEXT,onClick:e,variant:"primary_link"}),b[3]=a,b[4]=e,b[5]=m):m=b[5];return m}g["default"]=a}),98);
__d("PolarisLexicalCommentEmojiButton.react",["PolarisEmojiButton.react","react","usePolarisLexicalEmojiButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d=a.isOpen,e=a.onClose;a=a.onOpen;e=c("usePolarisLexicalEmojiButton")(e);var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1e558r4",b[0]=f):f=b[0];b[1]!==d||b[2]!==e||b[3]!==a?(f=j.jsx("div",{className:f,children:j.jsx(c("PolarisEmojiButton.react"),{color:"ig-secondary-text",isEmojiTrayOpen:d,onEmojiClick:e,setEmojiTrayOpen:a})}),b[1]=d,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("PolarisLexicalCommentEnterKeyPlugin.react",["Lexical","LexicalComposerContext","react","usePolarisCommentSubmit"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=b.unstable_useMemoCache;function a(a){var b=k(5);a=a.setIsLoading;var e=d("LexicalComposerContext").useLexicalComposerContext(),f=e[0],g=c("usePolarisCommentSubmit")(a);e=j(0);var h=e[0],l=e[1];b[0]!==f||b[1]!==h||b[2]!==g?(a=function(){f.registerUpdateListener(function(a){a=a.editorState;a.read(function(){l(d("Lexical").$getRoot().getTextContentSize())})});return f.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(!(a==null?void 0:a.shiftKey)&&h!==0)g();else if(h===0)return!0;return!1},d("Lexical").COMMAND_PRIORITY_LOW)},e=[h,f,g],b[0]=f,b[1]=h,b[2]=g,b[3]=a,b[4]=e):(a=b[3],e=b[4]);i(a,e);return null}g["default"]=a}),98);
__d("PolarisLexicalCommentInputStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={avatarContainer:{paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,$$css:!0},avatarContainerMobile:{paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",$$css:!0},commentInputBorderColor:{borderTopColor:"x1qkvvx7",borderEndColor:"x16fb8lf",borderBottomColor:"x1ufvan5",borderStartColor:"x1afoz4w",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",maxHeight:"x1vke2v8",overflowX:"x6ikm8r",overflowY:"x1rife3k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},contenteditable:{color:"x5n08af",width:"xh8yej3",wordBreak:"x13faqbe",$$css:!0},contenteditableCommon:{fontSize:"xl565be",lineHeight:"x5dp1im",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",width:"xh8yej3",$$css:!0},controlsContainer:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",fontSize:"xk390pu",justifyContent:"x1qughib",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",$$css:!0},outerContainer:{alignItems:"x6s0dn4",backgroundColor:"xvbhtw8",borderTopColor:"xl4qmuc",borderEndColor:"xxqof28",borderBottomColor:"xd18jyu",borderStartColor:"xiuebna",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",display:"x78zum5",minHeight:"x1ba4aug",outline:"x1a2a7pz",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerContainerMobile:{borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"xu0aao5",$$css:!0},outerContainerMobileWithReplyingToBar:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",minHeight:"x4lt0of",paddingStart:"x1h0ha7o",paddingLeft:null,paddingRight:null,paddingEnd:"xg83lxy",paddingTop:"x1nn3v0j",$$css:!0},paragraph:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},placeholder:{marginTop:"xr9ek0c",outline:"x1a2a7pz",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},replyingToBarContainer:{width:"xgqk73l",$$css:!0}};g["default"]=a}),98);
__d("PolarisLexicalCommentReplyPlugin.react",["Lexical","LexicalComposerContext","isStringNullOrEmpty","react","usePolarisLexicalCommentInputState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.unstable_useMemoCache;function a(){var a=k(4),b=d("LexicalComposerContext").useLexicalComposerContext(),e=b[0];b=d("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState();var f=b.repliedToUsername,g=j(!0),h;a[0]!==f||a[1]!==e?(b=function(){g.current===!0&&f==null?g.current=!1:(g.current=!1,e.update(function(){var a=d("Lexical").$getRoot();a.clear();if(!c("isStringNullOrEmpty")(f)){var b=d("Lexical").$createParagraphNode();b.append(d("Lexical").$createTextNode("@"+f+" "));b.selectEnd();a.append(b)}}))},h=[e,f],a[0]=f,a[1]=e,a[2]=b,a[3]=h):(b=a[2],h=a[3]);i(b,h);return null}g["default"]=a}),98);
__d("PolarisImmersiveViewerCommentInputRefContext.react",["err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=e.useReducer,l=e.useRef,m=e.unstable_useMemoCache,n=i.createContext(null);function o(a,b){switch(b.type){case"setCommentInputRef":return babelHelpers["extends"]({},a,{commentInputRef:{current:b.ref}});default:throw c("err")("Unhandled action type: "+b.type)}}function a(a){var b=m(6);a=a.children;var c=l(null);c=k(o,{commentInputRef:c});var d=c[0];c=c[1];var e;b[0]!==c||b[1]!==d?(e={dispatch:c,state:d},b[0]=c,b[1]=d,b[2]=e):e=b[2];c=e;d=c;b[3]!==d||b[4]!==a?(e=i.jsx(n.Provider,{value:d,children:a}),b[3]=d,b[4]=a,b[5]=e):e=b[5];return e}function b(){var a=m(2),b=j(n),c;a[0]!==b?(c=b==null?void 0:b.state.commentInputRef,a[0]=b,a[1]=c):c=a[1];return c}g.PolarisImmersiveViewerCommentInputRefContextProvider=a;g.usePolarisImmersiveViewerCommentInputRef=b}),98);
__d("PolarisLexicalImmersiveViewerCommentInputRefPlugin.react",["LexicalComposerContext","PolarisImmersiveViewerCommentInputRefContext.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("LexicalComposerContext").useLexicalComposerContext();a=a[0];var b=d("PolarisImmersiveViewerCommentInputRefContext.react").usePolarisImmersiveViewerCommentInputRef();b!=null&&(b.current=a)}g["default"]=a}),98);
__d("PolarisLexicalCommentInput.react",["FBLogger","IGDSBox.react","IGDSSpinner.react","IGDSText.react","Lexical","LexicalErrorBoundary","LexicalPlainTextPlugin","MLCComposer.react","MLCContentEditable.react","MLCFocusPlugin.react","MLCHistoryPlugin.react","PolarisCommentPostButton.react","PolarisGenericStrings","PolarisLexicalCommentEmojiButton.react","PolarisLexicalCommentEnterKeyPlugin.react","PolarisLexicalCommentInputStyles","PolarisLexicalCommentReplyPlugin.react","PolarisLexicalHashtagNode","PolarisLexicalHashtagPlugin.react","PolarisLexicalImmersiveViewerCommentInputRefPlugin.react","PolarisLexicalMentionNode","PolarisLexicalMentionsPlugin.react","PolarisLexicalTypeaheadContainer.react","PolarisUA","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useState,l=b.unstable_useMemoCache,m={paragraph:(h||(h=c("stylex")))(c("PolarisLexicalCommentInputStyles").paragraph)};function a(a){var b=l(39),e=a.initialCommentText;a=a.initialFocus;var f=a===void 0?!0:a;a=k(!1);var g=a[0],i=a[1];a=k(!1);var n=a[0],o=a[1];a=k(!1);var p=a[0];a=a[1];var q,r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=[d("PolarisLexicalMentionNode").PolarisLexicalMentionNode,d("PolarisLexicalHashtagNode").PolarisLexicalHashtagNode],r=function(a){c("FBLogger")("ig_web").warn(String(a))},b[0]=q,b[1]=r):(q=b[0],r=b[1]);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q={editable:!0,nodes:q,onError:r,theme:m},b[2]=q):q=b[2];b[3]!==e||b[4]!==f?(r={editor:q,editorState:function(){var a=d("Lexical").$getRoot();a.append(d("Lexical").$createParagraphNode().append(d("Lexical").$createTextNode(e)));f===!0&&a.selectEnd()},policyProduct:"instagram",surface:"INSTAGRAM_WEB"},b[3]=e,b[4]=f,b[5]=r):r=b[5];q=r;r=q;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){o(!1),i(!0)},b[6]=q):q=b[6];q=q;var s;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){o(!1),i(!1)},b[7]=s):s=b[7];s=s;var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){o(!0)},b[8]=t):t=b[8];t=t;var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){o(!1)},b[9]=u):u=b[9];u=u;var v;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsx(c("IGDSBox.react"),{alignItems:"center",width:"100%",children:j.jsx(c("IGDSSpinner.react"),{size:d("PolarisUA").isMobile()?"small":"medium"})}),b[10]=v):v=b[10];v=v;var w;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("MLCContentEditable.react"),{ariaLabel:d("PolarisGenericStrings").COMMENT_PLACEHOLDER_TEXT,xstyle:[c("PolarisLexicalCommentInputStyles").contenteditableCommon,c("PolarisLexicalCommentInputStyles").contenteditable]}),b[11]=w):w=b[11];var x;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(x=(h||(h=c("stylex")))([c("PolarisLexicalCommentInputStyles").contenteditableCommon,c("PolarisLexicalCommentInputStyles").placeholder]),b[12]=x):x=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:w,ErrorBoundary:c("LexicalErrorBoundary"),placeholder:j.jsx("div",{className:x,children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"start",children:d("PolarisGenericStrings").COMMENT_PLACEHOLDER_TEXT})})}),b[13]=w):w=b[13];x=w;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(w=(h||(h=c("stylex")))(c("PolarisLexicalCommentInputStyles").container),b[14]=w):w=b[14];b[15]!==p?(v=p?v:x,b[15]=p,b[16]=v):v=b[16];b[17]!==v?(x=j.jsx("div",{className:w,children:v}),b[17]=v,b[18]=x):x=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=(h||(h=c("stylex")))(c("PolarisLexicalCommentInputStyles").controlsContainer),b[19]=p):p=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("PolarisCommentPostButton.react"),{setIsLoading:a}),b[20]=w):w=b[20];b[21]!==n?(v=d("PolarisUA").isDesktop()&&j.jsx(c("PolarisLexicalCommentEmojiButton.react"),{isOpen:n,modalSize:"large",onClose:u,onOpen:t}),b[21]=n,b[22]=v):v=b[22];b[23]!==v?(u=j.jsx("div",{className:p,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",paddingX:2,paddingY:1,position:"relative",children:[w,v]})}),b[23]=v,b[24]=u):u=b[24];b[25]!==g?(t=j.jsx(c("PolarisLexicalTypeaheadContainer.react"),{isDisabled:g,position:"above"}),b[25]=g,b[26]=t):t=b[26];b[27]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MLCFocusPlugin.react"),{onBlur:q,onFocus:s}),b[27]=n):n=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(d("MLCHistoryPlugin.react").MLCHistoryPlugin,{}),b[28]=p):p=b[28];b[29]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("PolarisLexicalMentionsPlugin.react"),{}),b[29]=w):w=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsx(c("PolarisLexicalHashtagPlugin.react"),{}),b[30]=v):v=b[30];b[31]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("PolarisLexicalCommentReplyPlugin.react"),{}),b[31]=g):g=b[31];b[32]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("PolarisLexicalCommentEnterKeyPlugin.react"),{setIsLoading:a}),b[32]=q):q=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(s=j.jsx(c("PolarisLexicalImmersiveViewerCommentInputRefPlugin.react"),{}),b[33]=s):s=b[33];b[34]!==r||b[35]!==x||b[36]!==u||b[37]!==t?(a=j.jsxs(c("MLCComposer.react"),{initialConfig:r,children:[x,u,t,n,p,w,v,g,q,s]}),b[34]=r,b[35]=x,b[36]=u,b[37]=t,b[38]=a):a=b[38];return a}g["default"]=a}),98);
__d("PolarisImmersiveMediaViewerLayoutContext.react",["err","react","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=e.useReducer,l=e.unstable_useMemoCache,m=740,n=i.createContext(null);function o(a,b){switch(b.type){case"toggleSidePannel":return babelHelpers["extends"]({},a,{isSidePanelOpen:!a.isSidePanelOpen});case"commentInputAnimation":return babelHelpers["extends"]({},a,{showCommentInputBorder:b.hasCommentInputAnimation});default:throw c("err")("Unhandled action type: "+b.type)}}function a(a){var b=l(6);a=a.children;var d=c("useWindowSize")();d=d.innerWidth;d=d>m;d=k(o,{isSidePanelOpen:d,showCommentInputBorder:!1});var e=d[0];d=d[1];var f;b[0]!==d||b[1]!==e?(f={dispatch:d,state:e},b[0]=d,b[1]=e,b[2]=f):f=b[2];d=f;e=d;b[3]!==e||b[4]!==a?(f=i.jsx(n.Provider,{value:e,children:a}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}function p(){return j(n)}function b(){var a=p();a=(a==null?void 0:a.state.isSidePanelOpen)===!0;return!a}g.PolarisImmersiveMediaViewerLayoutContextProvider=a;g.usePolarisImmersiveMediaViewerLayout=p;g.usePolarisIsImmersiveViewerFullScreen=b}),98);
__d("PolarisLexicalCommentInputWrapper.react",["IGDSAvatar.react","IGDSBox.react","PolarisImmersiveMediaViewerLayoutContext.react","PolarisLexicalCommentInputStyles","PolarisPostCommentInputReplyingToBar.react","PolarisUA","react","stylex","usePolarisLexicalCommentInputState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(25);a=a.children;var e=d("PolarisImmersiveMediaViewerLayoutContext.react").usePolarisImmersiveMediaViewerLayout();e=(e==null?void 0:e.state.showCommentInputBorder)===!0;var f=d("usePolarisLexicalCommentInputState").usePolarisLexicalCommentInputState(),g=f.clearCurrentReply,i=f.repliedToUsername;f=f.viewerProfilePicture;var l;b[0]!==f?(l=f!=null&&k.jsx("div",{className:(h||(h=c("stylex")))([c("PolarisLexicalCommentInputStyles").avatarContainer,d("PolarisUA").isMobile()&&c("PolarisLexicalCommentInputStyles").avatarContainerMobile]),children:k.jsx(c("IGDSAvatar.react"),{alt:"",size:"small",src:f})}),b[0]=f,b[1]=l):l=b[1];f=l;b[2]!==f?(l=d("PolarisUA").isMobile()&&f,b[2]=f,b[3]=l):l=b[3];e=e&&c("PolarisLexicalCommentInputStyles").commentInputBorderColor;var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("PolarisUA").isMobile()&&c("PolarisLexicalCommentInputStyles").outerContainerMobile,b[4]=m):m=b[4];var n;b[5]!==i?(n=d("PolarisUA").isMobile()&&i!=null&&c("PolarisLexicalCommentInputStyles").outerContainerMobileWithReplyingToBar,b[5]=i,b[6]=n):n=b[6];var o;b[7]!==e||b[8]!==n||b[9]!==i||b[10]!==g?(m=[c("PolarisLexicalCommentInputStyles").outerContainer,e,m,n],o=d("PolarisUA").isMobile()&&i!=null&&k.jsx("div",{className:(h||(h=c("stylex")))(c("PolarisLexicalCommentInputStyles").replyingToBarContainer),children:k.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{isRevampedMobileInput:!0,onClearReply:g,username:i})}),b[7]=e,b[8]=n,b[9]=i,b[10]=g,b[11]=m,b[12]=o):(m=b[11],o=b[12]);b[13]!==f?(e=d("PolarisUA").isDesktop()&&f,b[13]=f,b[14]=e):e=b[14];b[15]!==e||b[16]!==a?(n=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",width:"100%",children:[e,a]}),b[15]=e,b[16]=a,b[17]=n):n=b[17];b[18]!==m||b[19]!==o||b[20]!==n?(i=k.jsxs(c("IGDSBox.react"),{direction:"column",justifyContent:"center",position:"relative",xstyle:m,children:[o,n]}),b[18]=m,b[19]=o,b[20]=n,b[21]=i):i=b[21];b[22]!==l||b[23]!==i?(g=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",width:"100%",children:[l,i]}),b[22]=l,b[23]=i,b[24]=g):g=b[24];return g}g["default"]=a}),98);
__d("XPolarisClipsAudioControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/reels/audio/{audio_id}/{?song_name}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("PolarisMediaAudioAttribution.react",["fbt","CometRelay","IGDSArrowUpRightPanoFilledIcon.react","IGDSBox.react","IGDSExplicitEFilledIcon.react","IGDSMusicPanoFilledIcon.react","IGDSText.react","PolarisFastLink.react","PolarisMediaAudioAttribution_media.graphql","XPolarisClipsAudioControllerRouteBuilder","isStringNullOrEmpty","react","usePolarisPostHeaderAudio"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=h._("__JHASH__kirpRtiXfW9__JHASH__"),n=h._("__JHASH__4DM6CrMfya9__JHASH__"),o=12;function a(a){var e=k(16),f=a.isOverMedia;a=a.media;f=f===void 0?!1:f;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaAudioAttribution_media.graphql"),a);a=c("usePolarisPostHeaderAudio")(a);if(a==null)return null;var g=a.artist,h=a.audioId,j=a.isExplicit,p=a.isTrending;a=a.title;if(g==null||h==null||a==null)return null;h=c("XPolarisClipsAudioControllerRouteBuilder").buildURL({audio_id:h});p=p?c("IGDSArrowUpRightPanoFilledIcon.react"):c("IGDSMusicPanoFilledIcon.react");a=!c("isStringNullOrEmpty")(a)&&!c("isStringNullOrEmpty")(g)?g+" \xb7 "+a:(g=(g=g)!=null?g:a)!=null?g:"";g=f?"ig-text-on-media":"ig-primary-text";var q;e[0]!==p||e[1]!==g?(q=l.jsx(c("IGDSBox.react"),{marginEnd:1,children:l.jsx(p,{alt:n,color:g,size:o})}),e[0]=p,e[1]=g,e[2]=q):q=e[2];p=f?"textOnMedia":"primaryText";e[3]!==p||e[4]!==a?(g=l.jsx(c("IGDSText.react").Body2,{color:p,maxLines:1,zeroMargin:!0,children:a}),e[3]=p,e[4]=a,e[5]=g):g=e[5];e[6]!==j||e[7]!==f?(p=j&&l.jsx(c("IGDSBox.react"),{marginStart:1,children:l.jsx(c("IGDSExplicitEFilledIcon.react"),{alt:m,color:f?"ig-text-on-media":"ig-primary-text",size:o})}),e[6]=j,e[7]=f,e[8]=p):p=e[8];e[9]!==q||e[10]!==g||e[11]!==p?(a=l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[q,g,p]}),e[9]=q,e[10]=g,e[11]=p,e[12]=a):a=e[12];e[13]!==h||e[14]!==a?(j=l.jsx(c("PolarisFastLink.react"),{href:h,children:a}),e[13]=h,e[14]=a,e[15]=j):j=e[15];return j}g["default"]=a}),98);
__d("PolarisMediaTaggedUserIndicator.react",["fbt","IGDSUserPanoFilledIcon.react","PolarisMediaViewerOverlayIconButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=h._("__JHASH__-nwpWTu090q__JHASH__");function a(a,b){var d=j(4);a=a.onPress;var e;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("IGDSUserPanoFilledIcon.react"),{alt:l,color:"web-always-white",size:16}),d[0]=e):e=d[0];d[1]!==a||d[2]!==b?(e=k.jsx(c("PolarisMediaViewerOverlayIconButton.react"),{onPress:a,ref:b,children:e}),d[1]=a,d[2]=b,d[3]=e):e=d[3];return e}b=k.forwardRef(a);g["default"]=b}),98);
__d("PolarisImmersiveViewerMediaHeader.react",["CometRelay","IGDSBox.react","IGDSConstants","PolarisAppAttributionContainer.react","PolarisImmersiveMediaViewerLayoutContext.react","PolarisImmersiveViewerMediaHeader_media.graphql","PolarisMediaAudioAttribution.react","PolarisPostCaption.react","PolarisPostFooter.next.react","PolarisPostHeader.next.react","react","usePolarisAnalyticsContext","usePolarisAppAttribution","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var e=j(27),f=a.isOverMedia;a=a.queryReference;f=f===void 0?!1:f;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisImmersiveViewerMediaHeader_media.graphql"),a);var g=c("usePolarisAnalyticsContext")(),i=d("PolarisImmersiveMediaViewerLayoutContext.react").usePolarisIsImmersiveViewerFullScreen(),l=c("usePolarisAppAttribution")(a);l=l.showAppAttribution;var m=c("usePolarisViewer")();m=(m==null?void 0:m.id)===(a==null?void 0:(m=a.user)==null?void 0:m.pk);var n=f?"white_link":"secondary_link",o=f?c("IGDSConstants").AVATAR_SIZES.small:c("IGDSConstants").AVATAR_SIZES.medium;m=!m;var p;e[0]!==n||e[1]!==o||e[2]!==f||e[3]!==a||e[4]!==m?(p=k.jsx(c("PolarisPostHeader.next.react"),{followButtonVariant:n,headerAvatarSize:o,isOverMedia:f,mediaFragmentKey:a,showAudioAttribution:!1,showFollowButton:m,showOptions:!1,showTimestamp:!0,showTimestampMiddleDot:!1}),e[0]=n,e[1]=o,e[2]=f,e[3]=a,e[4]=m,e[5]=p):p=e[5];e[6]!==f||e[7]!==a?(n=k.jsx(c("IGDSBox.react"),{marginTop:3,children:k.jsx(c("PolarisPostCaption.react"),{hideAndShowTextOnClick:!0,isImmersiveViewer:!0,isOverMedia:f,queryReference:a,showEditedText:!0,showTimestamp:!1,showUsername:!1})}),e[6]=f,e[7]=a,e[8]=n):n=e[8];e[9]!==f||e[10]!==a?(o=k.jsx(c("IGDSBox.react"),{display:"flex",flex:"grow",children:k.jsx(c("PolarisMediaAudioAttribution.react"),{isOverMedia:f,media:a})}),e[9]=f,e[10]=a,e[11]=o):o=e[11];e[12]!==l||e[13]!==a?(m=l===!0&&k.jsx(c("IGDSBox.react"),{marginStart:3,children:k.jsx(c("PolarisAppAttributionContainer.react"),{mediaFragment$key:a,showIcon:!0})}),e[12]=l,e[13]=a,e[14]=m):m=e[14];e[15]!==o||e[16]!==m?(f=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:2,overflow:"hidden",width:"100%",children:[o,m]}),e[15]=o,e[16]=m,e[17]=f):f=e[17];e[18]!==i||e[19]!==g||e[20]!==a?(l=!i&&k.jsx(c("PolarisPostFooter.next.react"),{analyticsContext:g,immersiveViewer:!0,queryReference:a}),e[18]=i,e[19]=g,e[20]=a,e[21]=l):l=e[21];e[22]!==p||e[23]!==n||e[24]!==f||e[25]!==l?(o=k.jsxs(k.Fragment,{children:[p,n,f,l]}),e[22]=p,e[23]=n,e[24]=f,e[25]=l,e[26]=o):o=e[26];return o}g["default"]=a}),98);