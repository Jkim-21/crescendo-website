;/*FB_PKG_DELIM*/

__d("getSendStoryToInstamadilloRecipient",["fbt","I64","InstamadilloSchema.flow","InstamadilloStoryReplySnippet","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessageSendStatus","MNXMAPreviewImageDecorationType","PolarisLinkBuilder","asyncToGeneratorRuntime","issueSendXMAReceiverFetchCometTask","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,e,f,g,k){var l;l=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildDirectUserStoryLink(e+"_"+((l=f)!=null?l:""));var m={__typename:"XMSGIgReceiverFetchXmaStoryFetchParams",reel_id:a,story_igid:e},n={__typename:"XMSGIgXmaContentRefDataclass",action_type:k,content_type:d("InstamadilloSchema.flow").XmsgIgReceiverFetchContentTypeValues.Story,fetch_params:m,owner_fbid:f,target_url:l,username:g},o={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),replySnippet:(a=d("InstamadilloStoryReplySnippet").getStoryReplySnippet("@me",n))!=null?a:void 0,replySourceTypeV2:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE),sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},p={actionUrl:l,nativeUrl:l,targetId:i.of_string(e),type_:"xma_web_url"},q={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),previewImageDecorationType:j.ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON),subtitleText:h._("__JHASH__Wk0RMsUN8WM__JHASH__").toString(),titleText:g};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=k===d("InstamadilloSchema.flow").XmsgIgXmaActionTypeValues.React||d("InstamadilloSchema.flow").XmsgIgXmaActionTypeValues.Reply,i={contentRef:JSON.stringify(n),text:h?e:void 0};try{var j=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,i,m,q,p,o));yield c("issueSendXMAReceiverFetchCometTask")({comment:h?void 0:e,isDisappearingModeSettingOn:b,offlineThreadingId:j,receiverFetchXma:JSON.stringify(i),threadKey:a});f==null?void 0:f(a)}catch(b){g==null?void 0:g(b,a)}});return function(b,c,d,e,f){return a.apply(this,arguments)}}()}g["default"]=a}),98);